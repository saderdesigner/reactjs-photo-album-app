(this["webpackJsonpchat-app-fe-mui"]=this["webpackJsonpchat-app-fe-mui"]||[]).push([[0],{186:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),i=a.n(r),o=a(13),s=a(37),l=a(16),j=(a(186),a(345)),d=a(346),u=a(342),b=a(340),m=a(344),h=a(163),p=a(107);p.a.initializeApp({apiKey:"AIzaSyBYKVnPWa1ddBu0dL3C1ch3LjPPPuks5BM",authDomain:"reactjs-photo-album-app.firebaseapp.com",projectId:"reactjs-photo-album-app",storageBucket:"reactjs-photo-album-app.appspot.com",messagingSenderId:"148193497096",appId:"1:148193497096:web:b6c88833b29ad1154801bd",measurementId:"G-734DW5J55K"});var x=p.a,O=c.a.createContext({IsLoggedIn:!1,user:{}}),g=a(4),f=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},link:{textDecoration:"none",color:"white"},linkActive:{textDecoration:"underline"}}}));function v(){var e=f(),t=Object(l.g)(),a=Object(n.useContext)(O),c=Object(o.a)(a,2),r=c[0];c[1];return Object(g.jsx)("div",{className:e.root,children:Object(g.jsx)(u.a,{position:"static",children:Object(g.jsx)(m.a,{children:Object(g.jsxs)(j.a,{container:!0,justify:"space-between",children:[Object(g.jsx)(j.a,{item:!0,children:Object(g.jsxs)(j.a,{container:!0,justify:"flex-start",spacing:2,children:[Object(g.jsx)(j.a,{item:!0,children:Object(g.jsx)(s.c,{exact:!0,to:"/",className:e.link,activeClassName:e.linkActive,children:Object(g.jsx)(h.a,{variant:"h6",children:"Home"})})}),Object(g.jsx)(j.a,{item:!0,children:Object(g.jsx)(s.c,{to:"/gallery",className:e.link,activeClassName:e.linkActive,children:Object(g.jsx)(h.a,{variant:"h6",children:"Gallery"})})})]})}),r?Object(g.jsx)(j.a,{item:!0,children:Object(g.jsx)(d.a,{variant:"outlined",color:"secondary",onClick:function(){x.auth().signOut().then((function(e){t.push("/login")})).catch((function(e){console.log(e.message)}))},children:"Log Out"})}):Object(g.jsx)(j.a,{item:!0,children:Object(g.jsxs)(j.a,{container:!0,justify:"space-between",spacing:2,children:[Object(g.jsx)(j.a,{item:!0,children:Object(g.jsx)(s.c,{to:"/login",className:e.link,activeClassName:e.linkActive,children:Object(g.jsx)(h.a,{variant:"h6",children:"Login"})})}),Object(g.jsx)(j.a,{item:!0,children:Object(g.jsx)(s.c,{to:"/signup",className:e.link,activeClassName:e.linkActive,children:Object(g.jsx)(h.a,{variant:"h6",children:"Sign Up"})})})]})})]})})})})}var w=a(361),y=a(347);var C=function(){return Object(g.jsx)(w.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:Object(g.jsx)(y.a,{})})},S=a(348);var I=function(e){return Object(g.jsx)(S.a,{maxWidth:"md",style:{height:"100vh"},children:Object(g.jsx)(j.a,{container:!0,justify:"center",alignItems:"center",direction:"row",style:{height:"100%"},children:Object(g.jsx)(j.a,{children:"Page NotFound"})})})},k=a(29);function P(e){var t=Object(n.useContext)(O);return Object(o.a)(t,1)[0]?Object(g.jsx)(l.b,Object(k.a)({},e)):Object(g.jsx)(l.a,{to:"/login"})}function N(e){var t=Object(n.useContext)(O);return Object(o.a)(t,1)[0]?Object(g.jsx)(l.a,{to:"/"}):Object(g.jsx)(l.b,Object(k.a)({},e))}var W=a(360),A=a(152);var q=a(26),B=a(153),F=a.n(B);function R(e,t){var a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)([]),l=Object(o.a)(s,2),j=l[0],d=l[1],u=Object(n.useState)(!1),b=Object(o.a)(u,2),m=b[0],h=b[1];function p(){var a=""===t?"photos?":"search/photos?query=".concat(t,"&");F.a.get("".concat("https://api.unsplash.com/").concat(a,"client_id=").concat("h-RqT5vx9BuVPb05VQESsoJ6-Pv-blrXq2b4gI041KQ","&page=").concat(e)).then((function(a){""===t?function(e){i([].concat(Object(q.a)(r),Object(q.a)(e.data)))}(a):function(t){i(e>1?[].concat(Object(q.a)(r),Object(q.a)(t.data.results)):Object(q.a)(t.data.results))}(a),h(!1)})).catch((function(e){d(["Unable to fetch images"]),h(!1)}))}return Object(n.useEffect)((function(){h(!0),p()}),[e,t]),[r,i,j,m]}var T=a(349),D=a(350),E=a(351),z=a(352),L=a(353),V=a(354),J=a(154),U=a.n(J),G=Object(b.a)({root:{width:"100%"},media:{minHeight:150,minWidth:200},addBtn:{height:55,width:"100%",backgroundColor:"#4caf50",color:"white","&:hover":{backgroundColor:"#388e3c"}},customTextField:{marginRight:"10px"},input:{borderRadius:"4px 0px 0px 4px",border:"none"}});function H(e){var t=e.index,a=e.image,n=e.removeImage,c=G();return Object(g.jsx)(T.a,{in:!0,children:Object(g.jsx)(j.a,{item:!0,xs:4,children:Object(g.jsx)(j.a,{container:!0,children:Object(g.jsxs)(D.a,{className:c.root,children:[Object(g.jsxs)(E.a,{children:[Object(g.jsx)(z.a,{className:c.media,image:a.urls.regular,title:"Ramdom Image"}),Object(g.jsxs)(L.a,{children:[Object(g.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Food and Drink"}),Object(g.jsx)(h.a,{variant:"body2",color:"textSecondary",component:"p",children:"Lizards are a widespread group of squamate reptiles"})]})]}),Object(g.jsx)(V.a,{children:Object(g.jsxs)(j.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(g.jsx)(j.a,{item:!0}),Object(g.jsx)(j.a,{item:!0,children:Object(g.jsx)(d.a,{size:"small",color:"primary",variant:"outlined",children:"View"})}),Object(g.jsx)(j.a,{item:!0,children:Object(g.jsx)(d.a,{size:"small",color:"secondary",onClick:function(){n(t)},children:Object(g.jsx)(U.a,{})})})]})})]})})},t)})}H.defaultProps={index:null,image:null,removeImage:null};var K=H,Y=Object(b.a)({root:{width:"100%"},media:{minHeight:150,minWidth:200},customButton:{height:56,width:"100%",backgroundColor:"#4caf50",color:"white",borderRadius:"0 4px 4px 0","&:hover":{backgroundColor:"#388e3c"}},customTextField:{marginRight:"10px"},customInput:{borderRadius:"4px 0px 0px 4px",border:"none"}});var M=function(e){var t=Y(),a=Object(n.useState)(1),c=Object(o.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),u=l[0],b=l[1],m=R(r,u),p=Object(o.a)(m,4),x=p[0],O=p[1],f=p[2],v=p[3],y=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;clearTimeout(a);var n=setTimeout((function(){return e()}),t);c(n)}}(),I=function(e){var t=x.filter((function(t,a){return a!==e}));O(t)};return Object(g.jsxs)(S.a,{maxWidth:"md",children:[f.length>0&&Object(g.jsx)(w.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:Object(g.jsx)(h.a,{variant:"h5",align:"center",children:f[0]})}),Object(g.jsx)(w.a,{my:2,children:Object(g.jsxs)(j.a,{container:!0,className:t.root,children:[Object(g.jsx)(j.a,{item:!0,xs:10,children:Object(g.jsx)(W.a,{type:"text",label:"Search",variant:"outlined",InputProps:{className:t.customInput},fullWidth:!0,onChange:function(e){var t=e.target.value;y((function(){return b(t)}))},placeholder:"Search images here"})}),Object(g.jsx)(j.a,{item:!0,xs:2,children:Object(g.jsx)(d.a,{className:t.customButton,children:"Search"})})]})}),Object(g.jsx)(A.a,{style:{overflow:"hidden"},dataLength:x.length,next:function(){return i(r+1)},hasMore:!0,children:Object(g.jsx)(j.a,{container:!0,spacing:2,children:x.map((function(e,t){return Object(g.jsx)(K,{index:t,image:e,removeImage:I},t)}))})}),v&&Object(g.jsx)(C,{})]})};var Q=function(e){return Object(g.jsx)("div",{children:Object(g.jsx)(M,{})})};var X=function(e){return Object(g.jsx)(S.a,{maxWidth:"md",style:{height:"100vh"},children:Object(g.jsx)(j.a,{container:!0,justify:"center",alignItems:"center",direction:"row",style:{height:"100%"},children:Object(g.jsx)(j.a,{children:"Wellcome Home"})})})},$=a(89),_=a(355),Z=a(356),ee=a(363),te=a(362),ae=a(358),ne=a(359),ce=a(90),re=a.n(ce),ie=a(357);function oe(){return Object(g.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(g.jsx)(ie.a,{color:"inherit",href:"https://github.com/saderdesigner",children:"ReactJS Photo Album App"})," ",(new Date).getFullYear(),"."]})}var se=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function le(){var e=se(),t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(""),l=Object(o.a)(i,2),u=l[0],b=l[1],m=Object(n.useState)({email:"",password:""}),p=Object(o.a)(m,2),O=p[0],f=p[1];function v(e){var t=e.target.name,a=e.target.value;f(Object(k.a)(Object(k.a)({},O),{},Object($.a)({},t,a)))}return Object(g.jsxs)(S.a,{component:"main",maxWidth:"xs",children:[Object(g.jsx)(ae.a,{}),Object(g.jsxs)("div",{className:e.paper,children:[Object(g.jsx)(ee.a,{className:e.avatar,children:Object(g.jsx)(re.a,{})}),Object(g.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(g.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),c||(r(!0),console.log("----submit----"),""!==O.password&&""!==O.email&&x.auth().signInWithEmailAndPassword(O.email,O.password).then((function(e){r(!1),b("")})).catch((function(e){r(!1),b(e.message)})))},children:[Object(g.jsx)(_.a,{component:"fieldset",error:""!==u,children:Object(g.jsx)(Z.a,{children:u})}),Object(g.jsx)(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:v,value:O.email}),Object(g.jsx)(W.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:v,value:O.password}),Object(g.jsx)(ne.a,{control:Object(g.jsx)(te.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(g.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:c,children:c?Object(g.jsx)(y.a,{size:24,color:"primary"}):"Sign In"}),Object(g.jsxs)(j.a,{container:!0,children:[Object(g.jsx)(j.a,{item:!0,xs:!0,children:Object(g.jsx)(ie.a,{variant:"body2",children:"Forgot password?"})}),Object(g.jsx)(j.a,{item:!0,children:Object(g.jsx)(s.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(g.jsx)(w.a,{mt:8,children:Object(g.jsx)(oe,{})})]})}var je=a(160),de=a(68);function ue(){return Object(g.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(g.jsx)(ie.a,{color:"inherit",href:"https://github.com/saderdesigner",children:"ReactJS Photo Album App"})," ",(new Date).getFullYear(),"."]})}var be=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function me(){var e=be(),t=Object(l.g)(),a=Object(n.useState)(!1),c=Object(o.a)(a,2),r=c[0],i=c[1],u=Object(je.a)({initialValues:{email:"",password:"",passwordConfirm:""},onSubmit:function(e,a){i(!0),x.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(e){i(!1),t.replace("/")})).catch((function(e){i(!1),a.setFieldError("email",e.message)}))},validationSchema:de.a({email:de.c().required("Email is required!").email("Invalid email address!"),password:de.c().required("Password is required!").min(6,"Password must be at least 6 characters"),passwordConfirm:de.c().required("Password confirm is required!").oneOf([de.b("password"),null],"Password does't match")})});return Object(g.jsxs)(S.a,{component:"main",maxWidth:"xs",children:[Object(g.jsx)(ae.a,{}),Object(g.jsxs)("div",{className:e.paper,children:[Object(g.jsx)(ee.a,{className:e.avatar,children:Object(g.jsx)(re.a,{})}),Object(g.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(g.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:u.handleSubmit,children:[Object(g.jsx)(W.a,Object(k.a)(Object(k.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},u.getFieldProps("email")),{},{error:u.touched.email&&Boolean(u.errors.email),helperText:u.touched.email&&u.errors.email})),Object(g.jsx)(W.a,Object(k.a)(Object(k.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password"},u.getFieldProps("password")),{},{error:u.touched.password&&Boolean(u.errors.password),helperText:u.touched.password&&u.errors.password})),Object(g.jsx)(W.a,Object(k.a)(Object(k.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password Confirm",type:"password",id:"passwordConfirm",autoComplete:"current-password"},u.getFieldProps("passwordConfirm")),{},{error:u.touched.passwordConfirm&&Boolean(u.errors.passwordConfirm),helperText:u.touched.passwordConfirm&&u.errors.passwordConfirm})),Object(g.jsx)(ne.a,{control:Object(g.jsx)(te.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(g.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:r,children:r?Object(g.jsx)(y.a,{size:24,color:"primary"}):"Sign Up"}),Object(g.jsx)(j.a,{container:!0,justify:"center",children:Object(g.jsx)(j.a,{item:!0,children:Object(g.jsx)(s.b,{to:"/login",variant:"body2",children:"Already have an account? Sign In"})})})]})]}),Object(g.jsx)(w.a,{mt:8,children:Object(g.jsx)(ue,{})})]})}var he=[{path:"/",exact:!0,component:function(){return Object(g.jsx)(X,{})},protected:"none"},{path:"/gallery",exact:!0,component:function(){return Object(g.jsx)(Q,{})},protected:"auth"},{path:"/login",exact:!0,component:function(){return Object(g.jsx)(le,{})},protected:"guest"},{path:"/signup",exact:!0,component:function(){return Object(g.jsx)(me,{})},protected:"guest"}];var pe=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({}),i=Object(o.a)(r,2),j=i[0],d=i[1],u=Object(n.useState)(!0),b=Object(o.a)(u,2),m=b[0],h=b[1];return Object(n.useEffect)((function(){h(!0),x.auth().onAuthStateChanged((function(e){e?(c(!0),d(e),h(!1)):(d({}),c(!1),h(!1))}))}),[]),m?Object(g.jsx)(C,{}):Object(g.jsx)(s.a,{children:Object(g.jsxs)(O.Provider,{value:[a,j],children:[Object(g.jsx)(v,{}),Object(g.jsxs)(l.d,{children:[he.map((function(e,t){return"guest"===e.protected?Object(g.jsx)(N,{path:e.path,exact:e.exact,component:e.component},t):"auth"===e.protected?Object(g.jsx)(P,{path:e.path,exact:e.exact,component:e.component},t):Object(g.jsx)(l.b,{path:e.path,exact:e.exact,component:e.component},t)})),Object(g.jsx)(l.b,{path:"*",children:Object(g.jsx)(I,{})})]})]})})};a(310),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(g.jsx)(pe,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[311,1,2]]]);
//# sourceMappingURL=main.11af1fe7.chunk.js.map